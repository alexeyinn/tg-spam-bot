const { Telegraf } = require("telegraf");
require("dotenv").config();
const bot = new Telegraf(process.env.BOT_TOKEN);
let intIdx;

bot.start((ctx) => ctx.reply("Welcome"));
bot.hears("hi", (ctx) => ctx.reply("Hey there!"));

bot.hears("start", (ctx) => {
  if (intIdx) clearInterval(intIdx);

  intIdx = setInterval(async () => {
    // –ù–ê–°–¢–†–û–ô–ö–ê: –∑–¥–µ—Å—å —É–∫–∞–∑—ã–≤–∞–µ—à—å "–ª–æ–≥–∏–Ω" (@–õ–û–ì–ò–ù_–ì–†–£–ü–ü–´)–≥—Ä—É–ø–ø—ã, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≥—Ä—É–ø–ø,
    // –∫–æ–ø–∏—Ä—É–µ—à—å –Ω–∏–∂–Ω–∏–µ 15 —Å—Ç—Ä–æ—á–µ–∫ –∫–æ–¥–∞, –≤—Å—Ç–∞–≤–ª—è–µ—à—å —Å–ª–µ–¥–æ–º –∑–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏, –≤–µ–∑–¥–µ –º–µ–Ω—è–µ—à—å –ª–æ–≥–∏–Ω –≥—Ä—É–ø–ø—ã, —Å–æ—Ö—Ä–∞–Ω—è–µ—à—å —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç
    await ctx.telegram.sendPhoto("@testgroupforspambot", {
      source: "./assets/img/1.jpg",
    });
    await ctx.telegram.sendPhoto("@testgroupforspambot", {
      source: "./assets/img/2.jpg",
    });
    ctx.telegram.sendMessage(
      "@testgroupforspambot",
      // –ù–ê–°–¢–†–û–ô–ö–ê: –∑–¥–µ—Å—å –∏–∑–º–µ–Ω—è–µ—à—å —Ç–µ–∫—Å—Ç, –≤ –∫–æ–Ω—Ü–µ —Å–æ–æ–±—â–µ–Ω–∏—è, —É–∫–∞–∑—ã–≤–∞–µ—à—å –ª–æ–≥–∏–Ω –∞–∫–∫–∞—É–Ω—Ç–∞,
      // –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–∫–ª–∞–º–∏—Ä—É–µ—à—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ t.me/–ó–î–ï–°–¨_–õ–û–ì–ò–ù –∏–ª–∏ @–ó–î–ï–°–¨_–õ–û–ì–ò–ù
      `–ü–µ—Ä–≤–∞—è –ª–∏–Ω–∏—è üè¢

–í—Ç–æ—Ä–∞—è –ª–∏–Ω–∏—è ü•∞üòá

–¢—Ä–µ—Ç—å—è –ª–∏–Ω–∏—è üíã

–ó–î–ï–°–¨_–õ–û–ì–ò–ù`
    );
    // –ù–ê–°–¢–†–û–ô–ö–ê: –∑–¥–µ—Å—å –º–µ–Ω—è–µ—à—å –ø–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å —Å–ø–∞–º–∞ (30–º–∏–Ω = 1800000)
  }, 10000);
});

bot.launch();
